<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                    xmlns:params="http://schemas.codeplex.com/elysium/params"
                    xmlns:vm="clr-namespace:famousfront.viewmodels" xmlns:d="http://schemas.microsoft.com/expression/blend/2008" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" mc:Ignorable="d">
  <DataTemplate DataType="{x:Type vm:FeedSourceViewModel}" d:IsDesignTimeCreatable="false">
    <StackPanel>
      <Grid x:Name="_content_wrap" TextElement.FontSize="{Binding RelativeSource={RelativeSource Self}, Path=(params:General.ContentFontSize)}">
        <TextBlock x:Name="news" Text="{Binding Description}" TextWrapping="Wrap"/>
      </Grid>
      <Grid x:Name="_label_wrap" Background="Transparent">
        <DockPanel HorizontalAlignment="Right"
                    TextElement.FontSize="{Binding (params:General.ContentFontSize), RelativeSource={RelativeSource self}}">
          <TextBlock x:Name="_label" Text="{Binding UnreadsCount, StringFormat=' (\{0\})'}" DockPanel.Dock="Right"
                     Visibility="{Binding UnreadsCount, Converter={StaticResource IntToVisibilityConverter}, Mode=OneWay}"/>
          <TextBlock x:Name="_name" Text="{Binding Name}" TextTrimming="CharacterEllipsis"/>
        </DockPanel>
        <Grid.ContextMenu>
          <ContextMenu>
            <MenuItem Header="Subscribe..."/>
            <MenuItem Header="Unsubscribe this"/>
          </ContextMenu>
        </Grid.ContextMenu>
      </Grid>

    </StackPanel>
    <DataTemplate.Triggers>
      <DataTrigger Binding="{Binding UnreadsCount, Converter={StaticResource IntToVisibilityConverter}}" Value="Visible">
        <Setter TargetName="_label" Property="TextBlock.FontWeight" Value="Bold" />

      </DataTrigger>
      <DataTrigger Binding="{Binding FontSize, ElementName=_name, Mode=OneWay,Converter={StaticResource IsGreaterThanConverter}, ConverterParameter=18}" Value="True">
        <Setter Property="TextOptions.TextFormattingMode" Value="Ideal" TargetName="_name"/>
      </DataTrigger>
    </DataTemplate.Triggers>
  </DataTemplate>
</ResourceDictionary>